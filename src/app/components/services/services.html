<section class="services">
  <div class="container">
    <div class="section-header">
      <div class="section-logo">
        <img src="/logos/gis-logo-color.png" alt="GIS Ingeniería" class="section-logo-image">
      </div>
      <h2>Nuestros Servicios Especializados</h2>
      <p>Soluciones integrales de ingeniería civil diseñadas para proteger y valorizar su patrimonio</p>
    </div>

    <div class="services-grid">
      <div class="service-card" (click)="openImpermeabilizacionPopup()">
        <div class="service-image">
          <img src="https://raw.githubusercontent.com/davidgrandas8908/gis-ingenieria-images/master/gis-ingenieria-images/impermeabilizacion/imagen1.jpeg" alt="Impermeabilización">
          <div class="service-overlay">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
            </svg>
          </div>
        </div>
        <div class="service-content">
          <h3>Impermeabilización</h3>
          <p>Protección integral de fachadas y cubiertas contra la humedad y deterioro</p>
          <div class="service-features">
            <span class="feature">Fachadas</span>
            <span class="feature">Cubiertas</span>
            <span class="feature">Terrazas</span>
          </div>
          <div class="service-cta">
            <span>Ver Proyectos</span>
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8-8-8z"/>
            </svg>
          </div>
        </div>
      </div>

      <div class="service-card" (click)="openObraCivilPopup()">
        <div class="service-image">
          <img src="https://raw.githubusercontent.com/davidgrandas8908/gis-ingenieria-images/master/gis-ingenieria-images/obra-civil/imagen1.jpeg" alt="Obra Civil">
          <div class="service-overlay">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
            </svg>
          </div>
        </div>
        <div class="service-content">
          <h3>Obra Civil</h3>
          <p>Desarrollo integral de proyectos de construcción y urbanismo</p>
          <div class="service-features">
            <span class="feature">Construcción</span>
            <span class="feature">Urbanismo</span>
            <span class="feature">Infraestructura</span>
          </div>
          <div class="service-cta">
            <span>Ver Proyectos</span>
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8-8-8z"/>
            </svg>
          </div>
        </div>
      </div>

      <div class="service-card" (click)="openInterioresPopup()">
        <div class="service-image">
          <img src="https://raw.githubusercontent.com/davidgrandas8908/gis-ingenieria-images/master/gis-ingenieria-images/interiores/imagen1.jpg" alt="Interiores">
          <div class="service-overlay">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
            </svg>
          </div>
        </div>
        <div class="service-content">
          <h3>Interiores</h3>
          <p>Adecuación y remodelación de espacios interiores con acabados de alta calidad</p>
          <div class="service-features">
            <span class="feature">Remodelación</span>
            <span class="feature">Acabados</span>
            <span class="feature">Diseño</span>
          </div>
          <div class="service-cta">
            <span>Ver Proyectos</span>
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8-8-8z"/>
            </svg>
          </div>
        </div>
      </div>

      <div class="service-card" (click)="openIncendiosPopup()">
        <div class="service-image">
          <img src="https://raw.githubusercontent.com/davidgrandas8908/gis-ingenieria-images/master/gis-ingenieria-images/incendios/imagen1.jpeg" alt="Sistemas Contra Incendios">
          <div class="service-overlay">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
            </svg>
          </div>
        </div>
        <div class="service-content">
          <h3>Sistemas Contra Incendios</h3>
          <p>Instalación y mantenimiento de sistemas de protección contra incendios</p>
          <div class="service-features">
            <span class="feature">Instalación</span>
            <span class="feature">Mantenimiento</span>
            <span class="feature">Certificación</span>
          </div>
          <div class="service-cta">
            <span>Ver Proyectos</span>
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8-8-8z"/>
            </svg>
          </div>
        </div>
      </div>
    </div>

    <div class="services-cta">
      <div class="cta-content">
        <h3>¿Necesita una consulta especializada?</h3>
        <p>Nuestros expertos están listos para asesorarlo en su proyecto</p>
        <div class="cta-buttons">
          <a routerLink="/contact" class="btn btn-primary">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
            </svg>
            Solicitar Cotización
          </a>

        </div>
      </div>
    </div>
  </div>

  <!-- Popup del Carrusel de Impermeabilización -->
  <div class="popup-overlay" [class.show]="showImpermeabilizacionPopup" (click)="closeImpermeabilizacionPopup()">
    <div class="popup-content" (click)="$event.stopPropagation()">
      <div class="popup-header">
        <div class="header-content">
          <div class="section-logo">
            <img src="assets/logos/gis-logo-color.png" alt="GIS Ingeniería" class="section-logo-image">
          </div>
          <h3>Impermeabilización de Fachadas y Cubiertas</h3>
        </div>
        <button class="close-btn" (click)="closeImpermeabilizacionPopup()">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
          </svg>
        </button>
      </div>
      
      <div class="carousel-container">
        <div class="carousel-wrapper" [style.transform]="'translateX(-' + (currentSlide * 100) + '%)'">
          <div class="carousel-slide" *ngFor="let image of impermeabilizacionImages; let i = index">
            <img [src]="image.url" [alt]="image.alt" loading="lazy">
            <div class="slide-caption">
              <h4>{{ image.title }}</h4>
              <p>{{ image.description }}</p>
            </div>
          </div>
        </div>
        
        <button class="carousel-btn prev" (click)="previousSlide()" [disabled]="currentSlide === 0">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
          </svg>
        </button>
        
        <button class="carousel-btn next" (click)="nextSlide()" [disabled]="currentSlide === impermeabilizacionImages.length - 1">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
          </svg>
        </button>
        
        <div class="carousel-indicators">
          <button 
            *ngFor="let image of impermeabilizacionImages; let i = index" 
            class="indicator" 
            [class.active]="i === currentSlide"
            (click)="goToSlide(i)">
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Popup del Carrusel de Obra Civil -->
  <div class="popup-overlay" [class.show]="showObraCivilPopup" (click)="closeObraCivilPopup()">
    <div class="popup-content" (click)="$event.stopPropagation()">
      <div class="popup-header">
        <div class="header-content">
          <div class="section-logo">
            <img src="assets/logos/gis-logo-color.png" alt="GIS Ingeniería" class="section-logo-image">
          </div>
          <h3>Obra Civil y Urbanismo</h3>
        </div>
        <button class="close-btn" (click)="closeObraCivilPopup()">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
          </svg>
        </button>
      </div>
      
      <div class="carousel-container">
        <div class="carousel-wrapper" [style.transform]="'translateX(-' + (currentSlideObraCivil * 100) + '%)'">
          <div class="carousel-slide" *ngFor="let image of obraCivilImages; let i = index">
            <img [src]="image.url" [alt]="image.alt" loading="lazy">
            <div class="slide-caption">
              <h4>{{ image.title }}</h4>
              <p>{{ image.description }}</p>
            </div>
          </div>
        </div>
        
        <button class="carousel-btn prev" (click)="previousSlideObraCivil()" [disabled]="currentSlideObraCivil === 0">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
          </svg>
        </button>
        
        <button class="carousel-btn next" (click)="nextSlideObraCivil()" [disabled]="currentSlideObraCivil === obraCivilImages.length - 1">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
          </svg>
        </button>
        
        <div class="carousel-indicators">
          <button 
            *ngFor="let image of obraCivilImages; let i = index" 
            class="indicator" 
            [class.active]="i === currentSlideObraCivil"
            (click)="goToSlideObraCivil(i)">
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Popup del Carrusel de Interiores -->
  <div class="popup-overlay" [class.show]="showInterioresPopup" (click)="closeInterioresPopup()">
    <div class="popup-content" (click)="$event.stopPropagation()">
      <div class="popup-header">
        <div class="header-content">
          <div class="section-logo">
            <img src="assets/logos/gis-logo-color.png" alt="GIS Ingeniería" class="section-logo-image">
          </div>
          <h3>Adecuación de Interiores</h3>
        </div>
        <button class="close-btn" (click)="closeInterioresPopup()">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
          </svg>
        </button>
      </div>
      
      <div class="carousel-container">
        <div class="carousel-wrapper" [style.transform]="'translateX(-' + (currentSlideInteriores * 100) + '%)'">
          <div class="carousel-slide" *ngFor="let image of interioresImages; let i = index">
            <img [src]="image.url" [alt]="image.alt" loading="lazy">
            <div class="slide-caption">
              <h4>{{ image.title }}</h4>
              <p>{{ image.description }}</p>
            </div>
          </div>
        </div>
        
        <button class="carousel-btn prev" (click)="previousSlideInteriores()" [disabled]="currentSlideInteriores === 0">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
          </svg>
        </button>
        
        <button class="carousel-btn next" (click)="nextSlideInteriores()" [disabled]="currentSlideInteriores === interioresImages.length - 1">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
          </svg>
        </button>
        
        <div class="carousel-indicators">
          <button 
            *ngFor="let image of interioresImages; let i = index" 
            class="indicator" 
            [class.active]="i === currentSlideInteriores"
            (click)="goToSlideInteriores(i)">
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Popup del Carrusel de Incendios -->
  <div class="popup-overlay" [class.show]="showIncendiosPopup" (click)="closeIncendiosPopup()">
    <div class="popup-content" (click)="$event.stopPropagation()">
      <div class="popup-header">
        <div class="header-content">
          <div class="section-logo">
            <img src="assets/logos/gis-logo-color.png" alt="GIS Ingeniería" class="section-logo-image">
          </div>
          <h3>Red Contra Incendios</h3>
        </div>
        <button class="close-btn" (click)="closeIncendiosPopup()">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
          </svg>
        </button>
      </div>
      
      <div class="carousel-container">
        <div class="carousel-wrapper" [style.transform]="'translateX(-' + (currentSlideIncendios * 100) + '%)'">
          <div class="carousel-slide" *ngFor="let image of incendiosImages; let i = index">
            <img [src]="image.url" [alt]="image.alt" loading="lazy">
            <div class="slide-caption">
              <h4>{{ image.title }}</h4>
              <p>{{ image.description }}</p>
            </div>
          </div>
        </div>
        
        <button class="carousel-btn prev" (click)="previousSlideIncendios()" [disabled]="currentSlideIncendios === 0">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
          </svg>
        </button>
        
        <button class="carousel-btn next" (click)="nextSlideIncendios()" [disabled]="currentSlideIncendios === incendiosImages.length - 1">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
          </svg>
        </button>
        
        <div class="carousel-indicators">
          <button 
            *ngFor="let image of incendiosImages; let i = index" 
            class="indicator" 
            [class.active]="i === currentSlideIncendios"
            (click)="goToSlideIncendios(i)">
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Popups de servicios -->
  
  <!-- Popup Impermeabilización -->
  <div class="popup-overlay" [class.show]="showImpermeabilizacionPopup" (click)="closeImpermeabilizacionPopup()">
    <div class="popup-content" (click)="$event.stopPropagation()">
      <div class="popup-header">
        <h3>Galería de Impermeabilización</h3>
        <button class="close-btn" (click)="closeImpermeabilizacionPopup()">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
          </svg>
        </button>
      </div>
      
      <div class="carousel-container">
        <div class="carousel-wrapper" [style.transform]="'translateX(-' + (currentSlide * 100) + '%)'">
          <div class="carousel-slide" *ngFor="let image of impermeabilizacionImages">
            <img [src]="image.url" [alt]="image.alt">
            <div class="slide-caption">
              <h4>{{ image.title }}</h4>
              <p>{{ image.description }}</p>
            </div>
          </div>
        </div>
        
        <button class="carousel-btn prev" (click)="previousSlide()" [disabled]="currentSlide === 0">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
          </svg>
        </button>
        
        <button class="carousel-btn next" (click)="nextSlide()" [disabled]="currentSlide === impermeabilizacionImages.length - 1">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
          </svg>
        </button>
        
        <div class="carousel-indicators">
          <button 
            class="indicator" 
            *ngFor="let image of impermeabilizacionImages; let i = index"
            [class.active]="i === currentSlide"
            (click)="goToSlide(i)">
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Popup Obra Civil -->
  <div class="popup-overlay" [class.show]="showObraCivilPopup" (click)="closeObraCivilPopup()">
    <div class="popup-content" (click)="$event.stopPropagation()">
      <div class="popup-header">
        <h3>Galería de Obra Civil</h3>
        <button class="close-btn" (click)="closeObraCivilPopup()">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
          </svg>
        </button>
      </div>
      
      <div class="carousel-container">
        <div class="carousel-wrapper" [style.transform]="'translateX(-' + (currentSlideObraCivil * 100) + '%)'">
          <div class="carousel-slide" *ngFor="let image of obraCivilImages">
            <img [src]="image.url" [alt]="image.alt">
            <div class="slide-caption">
              <h4>{{ image.title }}</h4>
              <p>{{ image.description }}</p>
            </div>
          </div>
        </div>
        
        <button class="carousel-btn prev" (click)="previousSlideObraCivil()" [disabled]="currentSlideObraCivil === 0">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
          </svg>
        </button>
        
        <button class="carousel-btn next" (click)="nextSlideObraCivil()" [disabled]="currentSlideObraCivil === obraCivilImages.length - 1">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
          </svg>
        </button>
        
        <div class="carousel-indicators">
          <button 
            class="indicator" 
            *ngFor="let image of obraCivilImages; let i = index"
            [class.active]="i === currentSlideObraCivil"
            (click)="goToSlideObraCivil(i)">
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Popup Interiores -->
  <div class="popup-overlay" [class.show]="showInterioresPopup" (click)="closeInterioresPopup()">
    <div class="popup-content" (click)="$event.stopPropagation()">
      <div class="popup-header">
        <h3>Galería de Interiores</h3>
        <button class="close-btn" (click)="closeInterioresPopup()">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
          </svg>
        </button>
      </div>
      
      <div class="carousel-container">
        <div class="carousel-wrapper" [style.transform]="'translateX(-' + (currentSlideInteriores * 100) + '%)'">
          <div class="carousel-slide" *ngFor="let image of interioresImages">
            <img [src]="image.url" [alt]="image.alt">
            <div class="slide-caption">
              <h4>{{ image.title }}</h4>
              <p>{{ image.description }}</p>
            </div>
          </div>
        </div>
        
        <button class="carousel-btn prev" (click)="previousSlideInteriores()" [disabled]="currentSlideInteriores === 0">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
          </svg>
        </button>
        
        <button class="carousel-btn next" (click)="nextSlideInteriores()" [disabled]="currentSlideInteriores === interioresImages.length - 1">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
          </svg>
        </button>
        
        <div class="carousel-indicators">
          <button 
            class="indicator" 
            *ngFor="let image of interioresImages; let i = index"
            [class.active]="i === currentSlideInteriores"
            (click)="goToSlideInteriores(i)">
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Popup Incendios -->
  <div class="popup-overlay" [class.show]="showIncendiosPopup" (click)="closeIncendiosPopup()">
    <div class="popup-content" (click)="$event.stopPropagation()">
      <div class="popup-header">
        <h3>Galería de Sistemas Contra Incendios</h3>
        <button class="close-btn" (click)="closeIncendiosPopup()">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
          </svg>
        </button>
      </div>
      
      <div class="carousel-container">
        <div class="carousel-wrapper" [style.transform]="'translateX(-' + (currentSlideIncendios * 100) + '%)'">
          <div class="carousel-slide" *ngFor="let image of incendiosImages">
            <img [src]="image.url" [alt]="image.alt">
            <div class="slide-caption">
              <h4>{{ image.title }}</h4>
              <p>{{ image.description }}</p>
            </div>
          </div>
        </div>
        
        <button class="carousel-btn prev" (click)="previousSlideIncendios()" [disabled]="currentSlideIncendios === 0">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
          </svg>
        </button>
        
        <button class="carousel-btn next" (click)="nextSlideIncendios()" [disabled]="currentSlideIncendios === incendiosImages.length - 1">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
          </svg>
        </button>
        
        <div class="carousel-indicators">
          <button 
            class="indicator" 
            *ngFor="let image of incendiosImages; let i = index"
            [class.active]="i === currentSlideIncendios"
            (click)="goToSlideIncendios(i)">
          </button>
        </div>
      </div>
    </div>
  </div>
</section>
